%!PS
%%Title: 03_clipping.ps
72 720 moveto (Clipping tests) show

% create clipping region then draw shapes
gsave
100 100 translate
newpath
0 0 moveto 200 0 lineto 200 150 lineto 0 150 lineto closepath
clip
% draw many overlapping circles
0 0 200 0 360 {
  /angle exch def
  100 75 translate
  sin angle mul 0.5 mul 75 add
  % not fancy: draw some ovals
} for
% simpler: draw big gradient-ish rectangles to see clip
0 0 moveto
200 0 lineto
200 150 lineto
0 150 lineto
closepath
0.8 setgray fill
grestore

% even-odd clip test
100 300 moveto
newpath
200 350 moveto
100 350 150 400 200 350 curveto
closepath
2 setlinewidth
gsave
100 300 translate
newpath
0 0 40 0 360 {
  /a exch def
} for
% Use eoclip to enforce even-odd rule
0 0 moveto 60 0 lineto 60 60 lineto 0 60 lineto closepath
eoclip
0 0 60 60 rectfill
grestore

showpage
